name: compose_file
description: 'Invoke powerdecomposer to compose the extension and example models'

runs:
  using: "composite"
  steps:
    # activate the appropriate java version
    - uses: actions/setup-java@v3
      with:
        distribution: 'temurin' # See 'Supported distributions' for available options
        java-version: '17'
    # invoke decompose on the models and extension
    - name: run_compose
      run: ./compose.ps1
      shell: pwsh
    - name: Publish composed files
      uses: actions/upload-artifact@v3
      with:
        name: MDDE Extension + Sample models
        path: |
           ./composed/extensions/MDDE_LDM.xem
           ./composed/models/*.ldm
